{"remainingRequest":"/Users/threewhisky/Desktop/miao-movie/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/threewhisky/Desktop/miao-movie/src/components/CinemaList/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/threewhisky/Desktop/miao-movie/src/components/CinemaList/index.vue","mtime":1655305314011},{"path":"/Users/threewhisky/Desktop/miao-movie/node_modules/cache-loader/dist/cjs.js","mtime":1655305766126},{"path":"/Users/threewhisky/Desktop/miao-movie/node_modules/babel-loader/lib/index.js","mtime":1655305766622},{"path":"/Users/threewhisky/Desktop/miao-movie/node_modules/cache-loader/dist/cjs.js","mtime":1655305766126},{"path":"/Users/threewhisky/Desktop/miao-movie/node_modules/vue-loader/lib/index.js","mtime":1655305767566}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n    name: 'CinemaList',\n    data(){\n        return{\n            cinemaList: [],\n            isLoading: true,\n            preCityId: -1\n        }\n    },\n    activated() {\n        var cityId = this.$store.state.city.id;\n        //对比存储的城市id和新的城市id，如果相等则不需要请求数据直接返回\n        if( this.preCityId === cityId){\n            return;\n        }\n        //请求数据\n        this.axios.get('https://i.maoyan.com/ajax/moreCinemas?limit=20&cityId=' + cityId).then((res) => {\n            console.log(res);\n            var msg = res.statusText;\n            if(msg === \"OK\"){\n                var cinemaList = res.data.cinemas.cinemas;\n                this.cinemaList = cinemaList;\n                this.isLoading = false;\n                this.preCityId = cityId;\n            }\n        })\n    }\n}\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAyBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/CinemaList","sourcesContent":["<template>\n    <div class=\"cinema_body\">\n        <Loading v-if=\"isLoading\" />\n        <Scroller v-else>\n            <ul>\n                <li v-for=\"item in cinemaList\" :key=\"item.id\">\n                    <div>\n                        <span>{{item.nm}}</span>\n                        <span class=\"q\"><span class=\"price\">{{item.sellPrice}}</span> 元起</span>\n                    </div>\n                    <div class=\"address\">\n                        <span>{{item.addr}}</span>\n                        <span>{{item.distance}}</span>\n                    </div>\n                    <div class=\"card\" v-if=\"item.tag.vipTag\">\n                        <div>小吃</div>\n                        <div>折扣卡</div>\n                    </div>\n                </li>\n            </ul>\n        </Scroller>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: 'CinemaList',\n    data(){\n        return{\n            cinemaList: [],\n            isLoading: true,\n            preCityId: -1\n        }\n    },\n    activated() {\n        var cityId = this.$store.state.city.id;\n        //对比存储的城市id和新的城市id，如果相等则不需要请求数据直接返回\n        if( this.preCityId === cityId){\n            return;\n        }\n        //请求数据\n        this.axios.get('https://i.maoyan.com/ajax/moreCinemas?limit=20&cityId=' + cityId).then((res) => {\n            console.log(res);\n            var msg = res.statusText;\n            if(msg === \"OK\"){\n                var cinemaList = res.data.cinemas.cinemas;\n                this.cinemaList = cinemaList;\n                this.isLoading = false;\n                this.preCityId = cityId;\n            }\n        })\n    }\n}\n</script>\n\n<style scoped>\n    \n    #content .cinema_body{ flex:1; overflow:auto;}\n    .cinema_body ul{ padding:20px;}\n    .cinema_body li{  border-bottom:1px solid #e6e6e6; margin-bottom: 20px;}\n    .cinema_body div{ margin-bottom: 10px;}\n    .cinema_body .q{ font-size: 11px; color:#f03d37;}\n    .cinema_body .price{ font-size: 18px;}\n    .cinema_body .address{ font-size: 13px; color:#666;}\n    .cinema_body .address span:nth-of-type(2){ float:right; }\n    .cinema_body .card{ display: flex;}\n    .cinema_body .card div{ padding: 0 3px; height: 15px; line-height: 15px; border-radius: 2px; color: #f90; border: 1px solid #f90; font-size: 13px; margin-right: 5px;}\n    .cinema_body .card div.or{ color: #f90; border: 1px solid #f90;}\n    .cinema_body .card div.bl{ color: #589daf; border: 1px solid #589daf;}\n</style>\n"]}]}