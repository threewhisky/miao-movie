{"remainingRequest":"/Users/threewhisky/Desktop/miao-movie/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/threewhisky/Desktop/miao-movie/src/components/ComingSoon/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/threewhisky/Desktop/miao-movie/src/components/ComingSoon/index.vue","mtime":1655305314012},{"path":"/Users/threewhisky/Desktop/miao-movie/node_modules/cache-loader/dist/cjs.js","mtime":1655305766126},{"path":"/Users/threewhisky/Desktop/miao-movie/node_modules/babel-loader/lib/index.js","mtime":1655305766622},{"path":"/Users/threewhisky/Desktop/miao-movie/node_modules/cache-loader/dist/cjs.js","mtime":1655305766126},{"path":"/Users/threewhisky/Desktop/miao-movie/node_modules/vue-loader/lib/index.js","mtime":1655305767566}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n    name: \"ComingSoon\",\n    data(){\n        return {\n            comingList: [],\n            isLoading: true,\n            preCityId: -1\n        }\n    },\n    activated(){\n        var cityId = this.$store.state.city.id;\n        //对比存储的城市id和新的城市id，如果相等则不需要请求数据直接返回\n        if( this.preCityId === cityId){\n            return;\n        }\n        //请求数据\n        this.axios.get('/ajax/comingList?ci=' + cityId + '&token=&limit=20').then( (res) => {\n            var msg = res.statusText;\n            if(msg === 'OK'){\n                var comingList = res.data.coming;\n                this.comingList = comingList;\n                this.isLoading = false;\n                this.preCityId = cityId;\n            }\n        })\n    },\n    methods: {\n        handleToDetail(movieId){\n            this.$router.push('/movie/detail/' + movieId);\n        }\n    }\n}\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/ComingSoon","sourcesContent":["<template>\n    <div class=\"movie_body\">\n        <Loading v-if=\"isLoading\" />\n        <Scroller v-else>\n            <ul>\n                <li v-for=\"item in comingList\" :key=\"item.id\" @tap=\"handleToDetail(item.id)\">\n                    <div class=\"pic_show\"><img :src=\"item.img | setWH('128.180')\"></div>\n                    <div class=\"info_list\">\n                        <h2>\n                            {{item.nm}}\n                            <img v-if=\"item.version\" src=\"@/assets/maxs.png\" >\n                        </h2>\n                        <p><span class=\"person\">{{item.wish}}</span> 人想看</p>\n                        <p>主演: {{item.star}}</p>\n                        <p>{{item.showInfo}}</p>\n                    </div>\n                    <div class=\"btn_pre\">\n                        预售\n                    </div>\n                </li>\n            </ul>\n        </Scroller>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: \"ComingSoon\",\n    data(){\n        return {\n            comingList: [],\n            isLoading: true,\n            preCityId: -1\n        }\n    },\n    activated(){\n        var cityId = this.$store.state.city.id;\n        //对比存储的城市id和新的城市id，如果相等则不需要请求数据直接返回\n        if( this.preCityId === cityId){\n            return;\n        }\n        //请求数据\n        this.axios.get('/ajax/comingList?ci=' + cityId + '&token=&limit=20').then( (res) => {\n            var msg = res.statusText;\n            if(msg === 'OK'){\n                var comingList = res.data.coming;\n                this.comingList = comingList;\n                this.isLoading = false;\n                this.preCityId = cityId;\n            }\n        })\n    },\n    methods: {\n        handleToDetail(movieId){\n            this.$router.push('/movie/detail/' + movieId);\n        }\n    }\n}\n</script>\n\n<style scoped>\n    #content .movie_body{ flex:1; overflow:auto;}\n    .movie_body ul{ margin:0 12px; overflow: hidden;}\n    .movie_body ul li{ margin-top:12px; display: flex; align-items:center; border-bottom: 1px #e6e6e6 solid; padding-bottom: 10px;}\n    .movie_body .pic_show{ width:64px; height: 90px;}\n    .movie_body .pic_show img{ width:100%;}\n    .movie_body .info_list { margin-left: 10px; flex:1; position: relative;}\n    .movie_body .info_list h2{ font-size: 17px; line-height: 24px; width:150px; overflow: hidden; white-space: nowrap; text-overflow:ellipsis;}\n    .movie_body .info_list p{ font-size: 13px; color:#666; line-height: 22px; width:200px; overflow: hidden; white-space: nowrap; text-overflow:ellipsis;}\n    .movie_body .info_list .grade{ font-weight: 700; color: #faaf00; font-size: 15px;}\n    .movie_body .info_list img{ width:50px; position: absolute; right:10px; top: 5px;}\n    .movie_body .btn_mall , .movie_body .btn_pre{ width:47px; height:27px; line-height: 28px; text-align: center; background-color: #f03d37; color: #fff; border-radius: 4px; font-size: 12px; cursor: pointer;}\n    .movie_body .btn_pre{ background-color: #3c9fe6;}\n</style>\n"]}]}