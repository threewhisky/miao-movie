{"remainingRequest":"/Users/threewhisky/Desktop/miao-movie/node_modules/babel-loader/lib/index.js!/Users/threewhisky/Desktop/miao-movie/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/threewhisky/Desktop/miao-movie/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/threewhisky/Desktop/miao-movie/src/components/NowPlaying/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/threewhisky/Desktop/miao-movie/src/components/NowPlaying/index.vue","mtime":1655301839704},{"path":"/Users/threewhisky/Desktop/miao-movie/node_modules/cache-loader/dist/cjs.js","mtime":1655305766126},{"path":"/Users/threewhisky/Desktop/miao-movie/node_modules/babel-loader/lib/index.js","mtime":1655305766622},{"path":"/Users/threewhisky/Desktop/miao-movie/node_modules/cache-loader/dist/cjs.js","mtime":1655305766126},{"path":"/Users/threewhisky/Desktop/miao-movie/node_modules/vue-loader/lib/index.js","mtime":1655305767566}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'NowPlaying',\n  data: function data() {\n    return {\n      movieList: [],\n      pullDownMsg: '',\n      isLoading: true,\n      preCityId: -1\n    };\n  },\n  activated: function activated() {\n    var _this = this;\n\n    //请求数据\n    this.axios.get('/ajax/movieOnInfoList').then(function (res) {\n      var msg = res.statusText;\n\n      if (msg === \"OK\") {\n        var movieList = res.data.movieList;\n        _this.movieList = movieList;\n        _this.isLoading = false;\n      }\n    });\n  },\n  methods: {\n    handleToDetail: function handleToDetail(movieId) {\n      this.$router.push('/movie/detail/' + movieId);\n    },\n    //下拉刷新功能\n    handleToScroll: function handleToScroll(pos) {\n      if (pos.y > 30) {\n        this.pullDownMsg = \"正在刷新中\";\n      }\n    },\n    handleToTouchEnd: function handleToTouchEnd(pos) {\n      var _this2 = this;\n\n      if (pos.y > 30) {\n        this.axios.get('/ajax/movieOnInfoList').then(function (res) {\n          var msg = res.statusText;\n\n          if (msg === \"OK\") {\n            _this2.pullDownMsg = \"更新成功\";\n            setTimeout(function () {\n              var movieList = res.data.movieList;\n              _this2.movieList = movieList;\n              _this2.pullDownMsg = '';\n            }, 1000);\n          }\n        });\n      }\n    }\n  }\n};",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,EADA;AAEA,MAAA,WAAA,EAAA,EAFA;AAGA,MAAA,SAAA,EAAA,IAHA;AAIA,MAAA,SAAA,EAAA,CAAA;AAJA,KAAA;AAMA,GATA;AAUA,EAAA,SAVA,uBAUA;AAAA;;AAEA;AACA,SAAA,KAAA,CAAA,GAAA,CAAA,uBAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AAEA,UAAA,GAAA,GAAA,GAAA,CAAA,UAAA;;AACA,UAAA,GAAA,KAAA,IAAA,EAAA;AACA,YAAA,SAAA,GAAA,GAAA,CAAA,IAAA,CAAA,SAAA;AACA,QAAA,KAAA,CAAA,SAAA,GAAA,SAAA;AACA,QAAA,KAAA,CAAA,SAAA,GAAA,KAAA;AACA;AACA,KARA;AASA,GAtBA;AAuBA,EAAA,OAAA,EAAA;AACA,IAAA,cADA,0BACA,OADA,EACA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,mBAAA,OAAA;AACA,KAHA;AAKA;AACA,IAAA,cANA,0BAMA,GANA,EAMA;AACA,UAAA,GAAA,CAAA,CAAA,GAAA,EAAA,EAAA;AACA,aAAA,WAAA,GAAA,OAAA;AACA;AACA,KAVA;AAWA,IAAA,gBAXA,4BAWA,GAXA,EAWA;AAAA;;AACA,UAAA,GAAA,CAAA,CAAA,GAAA,EAAA,EAAA;AACA,aAAA,KAAA,CAAA,GAAA,CAAA,uBAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,cAAA,GAAA,GAAA,GAAA,CAAA,UAAA;;AACA,cAAA,GAAA,KAAA,IAAA,EAAA;AACA,YAAA,MAAA,CAAA,WAAA,GAAA,MAAA;AACA,YAAA,UAAA,CAAA,YAAA;AACA,kBAAA,SAAA,GAAA,GAAA,CAAA,IAAA,CAAA,SAAA;AACA,cAAA,MAAA,CAAA,SAAA,GAAA,SAAA;AACA,cAAA,MAAA,CAAA,WAAA,GAAA,EAAA;AACA,aAJA,EAIA,IAJA,CAAA;AAKA;AACA,SAVA;AAWA;AACA;AAzBA;AAvBA,CAAA","sourcesContent":["<template>\n    <div class=\"movie_body\" ref=\"movie_body\">\n        <Loading v-if=\"isLoading\" />\n        <Scroller v-else :handleToScroll=\"handleToScroll\" :handleToTouchEnd=\"handleToTouchEnd\">\n            <ul>\n                <li class=\"pull_down\">{{ pullDownMsg }}</li>\n                <li v-for=\"item in movieList\" :key=\"item.id\" @tap=\"handleToDetail(item.id)\">\n                    <div class=\"pic_show\">\n                        <img :src=\"item.img | setWH('128.180')\"></div>\n                    <div class=\"info_list\">\n                        <h2>\n                            {{item.nm}} \n                            <img v-if=\"item.version\" src=\"@/assets/maxs.png\" >\n                        </h2>\n                        <p>观众评 <span class=\"grade\">{{item.sc}}</span></p>\n                        <p>主演: {{item.star}}/p>\n                        <p>{{item.showInfo}}</p>\n                    </div>\n                    <div class=\"btn_mall\">\n                        购票\n                    </div>\n                </li>\n            </ul>\n        </Scroller>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: 'NowPlaying',\n    data(){\n        return{\n            movieList: [],\n            pullDownMsg: '',\n            isLoading: true,\n            preCityId: -1\n        }\n    },\n    activated() { \n        \n        //请求数据\n        this.axios.get('/ajax/movieOnInfoList').then((res) => {\n\n            var msg = res.statusText;\n            if(msg === \"OK\"){\n                var movieList = res.data.movieList;\n                this.movieList = movieList;\n                this.isLoading = false;\n            }\n        })\n    },\n    methods: {\n        handleToDetail(movieId){\n            this.$router.push('/movie/detail/' + movieId);\n        },\n\n        //下拉刷新功能\n        handleToScroll(pos){\n            if(pos.y>30){\n                this.pullDownMsg = \"正在刷新中\";\n            }\n        },\n        handleToTouchEnd(pos){\n            if( pos.y>30){\n                this.axios.get('/ajax/movieOnInfoList').then((res) => {\n                    var msg = res.statusText;\n                    if(msg === \"OK\"){\n                        this.pullDownMsg = \"更新成功\";\n                        setTimeout(() => {\n                            var movieList = res.data.movieList;\n                            this.movieList = movieList;\n                            this.pullDownMsg = '';\n                        },1000);\n                    }\n                });\n            }\n        }\n    }\n\n}\n</script>\n\n<style scoped>\n    #content .movie_body{ flex:1; overflow:auto;}\n    .movie_body ul{ margin:0 12px; overflow: hidden;}\n    .movie_body ul li{ margin-top:12px; display: flex; align-items:center; border-bottom: 1px #e6e6e6 solid; padding-bottom: 10px;}\n    .movie_body .pic_show{ width:64px; height: 90px;}\n    .movie_body .pic_show img{ width:100%;}\n    .movie_body .info_list { margin-left: 10px; flex:1; position: relative;}\n    .movie_body .info_list h2{ font-size: 17px; line-height: 24px; width:150px; overflow: hidden; white-space: nowrap; text-overflow:ellipsis;}\n    .movie_body .info_list p{ font-size: 13px; color:#666; line-height: 22px; width:200px; overflow: hidden; white-space: nowrap; text-overflow:ellipsis;}\n    .movie_body .info_list .grade{ font-weight: 700; color: #faaf00; font-size: 15px;}\n    .movie_body .info_list img{ width:50px; position: absolute; right:10px; top: 5px;}\n    .movie_body .btn_mall , .movie_body .btn_pre{ width:47px; height:27px; line-height: 28px; text-align: center; background-color: #f03d37; color: #fff; border-radius: 4px; font-size: 12px; cursor: pointer;}\n    .movie_body .btn_pre{ background-color: #3c9fe6;}\n    .movie_body .pull_down{ margin: 0; padding: 0; border: none; color: #3c9fe6}\n</style>\n"],"sourceRoot":"src/components/NowPlaying"}]}